// --------------------------------------------------------------------------
// GENEL DIALOG STÄ°LLERÄ°
// --------------------------------------------------------------------------

// PrimeNG Dialog penceresinin dÄ±ÅŸ Ã§erÃ§evesini Ã¶zelleÅŸtirme
:host ::ng-deep .p-dialog {
    border-radius: 12px !important; // KÃ¶ÅŸeleri 12px yuvarlat
    overflow: hidden; // Ä°Ã§erik taÅŸarsa gizle
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); // Pencereye derinlik katan gÃ¶lge efekti
}

/* Dialog iÃ§erik (gÃ¶vde) kÄ±smÄ± ayarlarÄ± */
:host ::ng-deep .p-dialog .p-dialog-content {
    border-bottom-left-radius: 12px; // Alt sol kÃ¶ÅŸeyi yuvarlat
    border-bottom-right-radius: 12px; // Alt saÄŸ kÃ¶ÅŸeyi yuvarlat
    padding: 0.15rem 1.5rem !important; // Ä°Ã§ boÅŸluk: Ãœst/Alt az, SaÄŸ/Sol geniÅŸ
}

/* Filtreleme yapÄ±lan satÄ±rÄ±n (div) dÃ¼zeni */
:host ::ng-deep .p-dialog .filter-row {
    display: flex; // Yan yana dizilim iÃ§in Flexbox
    align-items: center; // Ä°Ã§erikleri dikeyde ortala
    gap: 0.25rem; // Elemanlar arasÄ± kÃ¼Ã§Ã¼k boÅŸluk
    margin: 0; // DÄ±ÅŸ boÅŸluÄŸu sÄ±fÄ±rla
    padding: 0; // Ä°Ã§ boÅŸluÄŸu sÄ±fÄ±rla
}

/* Filtre satÄ±rÄ±ndaki etiketlerin (label) hizalanmasÄ± */
:host ::ng-deep .filter-row label {
    margin: 0; // Label etrafÄ±ndaki boÅŸluÄŸu temizle
    line-height: 24px; // SatÄ±r yÃ¼ksekliÄŸi (Input ile aynÄ± hizada olmasÄ± iÃ§in)
    height: 24px; // YÃ¼kseklik sabitleme
    display: flex; // Flex dÃ¼zeni
    align-items: center; // Dikey ortalama
    font-size: 0.75rem; // YazÄ± boyutu (kÃ¼Ã§Ã¼k)
}

/* Dialog baÅŸlÄ±k (Header) kÄ±smÄ±nÄ±n ortak ayarlarÄ± */
:host ::ng-deep .p-dialog .p-dialog-header {
    padding: 0.4rem 0.8rem; // BaÅŸlÄ±k iÃ§ boÅŸluklarÄ±
    min-height: 2rem; // Minimum yÃ¼kseklik
    background-color: #3c4962; // Arka plan rengi (Koyu gri-mavi)
    color: #f8fafc; // YazÄ± rengi (KÄ±rÄ±k beyaz)
    display: flex; // Flexbox
    align-items: center; // Dikey ortalama
    justify-content: space-between; // BaÅŸlÄ±k ve ikonlarÄ± iki uca yasla
    border-top-left-radius: 12px; // Ãœst sol kÃ¶ÅŸe yuvarlatma
    border-top-right-radius: 12px; // Ãœst saÄŸ kÃ¶ÅŸe yuvarlatma
}

/* Header iÃ§indeki ikonlarÄ±n (kapat, kÃ¼Ã§Ã¼lt vb.) boyutlarÄ± */
:host ::ng-deep .p-dialog .p-dialog-header .p-dialog-header-icon {
    width: 1.5rem; // Ä°kon butonu geniÅŸliÄŸi
    height: 1.5rem; // Ä°kon butonu yÃ¼ksekliÄŸi
    font-size: 1rem; // Ä°kon sembol boyutu
    color: #f8fafc; // Ä°kon rengi (BeyazÄ±msÄ±)
}

/* SADECE minimize/restore butonlarÄ± iÃ§in hover (Ã¼zerine gelince) efekti (X butonu hariÃ§) */
:host ::ng-deep .p-dialog .p-dialog-header .p-dialog-header-icon:not(.close-btn):hover {
    background-color: #00aaff !important; // AÃ§Ä±k mavi arka plan (Vurgu)
}

/* Kapatma (X) butonu iÃ§in hover efekti */
:host ::ng-deep .p-dialog .p-dialog-header .p-dialog-header-icon.close-btn:hover {
    background-color: #ff4d4d !important; // KÄ±rmÄ±zÄ± arka plan (UyarÄ± rengi)
}

// --------------------------------------------------------------------------
// DEÄÄ°ÅKENLER (VARIABLES)
// --------------------------------------------------------------------------
// TasarÄ±mda kullanÄ±lacak renk paleti tanÄ±mlarÄ±
$header-bg: #2d5f8b; // Ana baÅŸlÄ±klar iÃ§in koyu mavi
$panel-header-bg: #eef6ff; // Alt panellerin baÅŸlÄ±ÄŸÄ± iÃ§in Ã§ok aÃ§Ä±k mavi
$border-color: #cce3f8; // KenarlÄ±klar iÃ§in aÃ§Ä±k mavi
$text-color: #333; // Genel metin rengi (Koyu gri)
$text-muted: #777; // Pasif/Silik metin rengi (Gri)

// --------------------------------------------------------------------------
// TAM EKRAN VE MÄ°NÄ°MÄ°ZE MODLARI
// --------------------------------------------------------------------------

// Dialog tam ekran olduÄŸunda uygulanacak stiller
::ng-deep .dialog-fullscreen {
    width: 100vw !important; // GeniÅŸlik: EkranÄ±n tamamÄ±
    height: 100vh !important; // YÃ¼kseklik: EkranÄ±n tamamÄ±
    max-height: 100vh !important; // Maksimum yÃ¼kseklik sÄ±nÄ±rÄ±
    top: 0 !important; // YukarÄ± yapÄ±ÅŸtÄ±r
    left: 0 !important; // Sola yapÄ±ÅŸtÄ±r
    border: none; // KenarlÄ±ÄŸÄ± kaldÄ±r
    border-radius: 0; // KÃ¶ÅŸe yuvarlatmayÄ± kaldÄ±r (Dik kÃ¶ÅŸe)

    .p-dialog-header {
        border-radius: 0; // Header kÃ¶ÅŸelerini de dik yap
    }

    .p-dialog-content {
        height: calc(100vh - 40px) !important; // Header yÃ¼ksekliÄŸini (40px) dÃ¼ÅŸerek kalan alanÄ± hesapla
        border-radius: 0; // Ä°Ã§erik kÃ¶ÅŸelerini dik yap
    }
}

// Dialog kÃ¼Ã§Ã¼ltÃ¼ldÃ¼ÄŸÃ¼nde (minimized) uygulanacak stiller
::ng-deep .dialog-minimized {
    .p-dialog-content {
        display: none; // Ä°Ã§eriÄŸi tamamen gizle (Sadece baÅŸlÄ±k kalÄ±r)
    }
}

// Genel p-dialog Ã¼zerine yazÄ±lan ek stiller
::ng-deep p-dialog {
    .p-dialog-header {
        padding: 0; // Ã–zel header kullandÄ±ÄŸÄ±mÄ±z iÃ§in varsayÄ±lan padding'i sÄ±fÄ±rla
        background: $header-bg; // DeÄŸiÅŸkendeki koyu maviyi kullan
        color: white; // YazÄ± rengi beyaz
        height: 40px; // Header yÃ¼ksekliÄŸi sabitle
    }

    .p-dialog-content {
        padding: 0 !important; // Ä°Ã§erik padding'ini sÄ±fÄ±rla (Tam kaplasÄ±n diye)
        overflow: hidden; // Ä°Ã§erik taÅŸmasÄ±nÄ± engelle
    }
}

// --------------------------------------------------------------------------
// Ã–ZEL BÄ°LEÅENLER (Custom Header, Toolbar, Splitter)
// --------------------------------------------------------------------------

// VarsayÄ±lan PrimeNG header yerine kullanÄ±lan Ã¶zel baÅŸlÄ±k yapÄ±sÄ±
.dialog-header-custom {
    display: flex;
    justify-content: space-between; // Ä°ki uca yasla (BaÅŸlÄ±k sol, butonlar saÄŸ)
    align-items: center; // Dikey ortala
    width: 100%;
    height: 100%;
    padding: 0 10px; // SaÄŸdan soldan biraz boÅŸluk
    background-color: $header-bg; // Koyu mavi arka plan
    color: white;
    font-size: 14px;
    font-weight: bold; // KalÄ±n yazÄ± tipi

    .header-actions {
        display: flex;
        gap: 8px; // Butonlar arasÄ± boÅŸluÄŸu biraz aÃ§tÄ±k
        align-items: center;

        .window-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%; // Yuvarlak butonlar
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease; // YumuÅŸak geÃ§iÅŸ

            i {
                font-size: 14px;
                color: rgba(255, 255, 255, 0.8); // Hafif soft beyaz
            }

            // Normal buton hover (Minimize / Maximize)
            &:hover {
                background-color: rgba(255, 255, 255, 0.15);
                transform: scale(1.1); // Hafif bÃ¼yÃ¼me efekti

                i {
                    color: white;
                }
            }

            // Kapatma butonu Ã¶zel hover
            &.close-btn:hover {
                background-color: #ff5f57; // Mac tarzÄ± kÄ±rmÄ±zÄ±
                transform: scale(1.1) rotate(90deg); // DÃ¶nme efekti ekleyelim

                i {
                    color: white;
                }
            }
        }
    }
}

// Dialog iÃ§eriÄŸini saran ana kapsayÄ±cÄ±
.dialog-content-wrapper {
    display: flex;
    flex-direction: column; // Ã–ÄŸeleri alt alta diz (Toolbar, Splitter, Footer)
    height: 100%;
    background-color: white;
}

// Ãœst AraÃ§ Ã‡ubuÄŸu (Arama inputu vb. iÃ§in)
.top-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between; // Arama solda, aksiyonlar saÄŸda
    padding: 5px 10px;
    border-bottom: 1px solid $border-color; // AltÄ±na Ã§izgi Ã§ek
    background-color: white;
    height: 45px; // Sabit yÃ¼kseklik

    .search-group {
        display: flex;
        align-items: center;
        gap: 5px;

        input {
            width: 200px; // Input geniÅŸliÄŸi
            border-color: #b0cbe8; // Input kenarlÄ±k rengi
        }
    }

    .toolbar-right-actions {
        button {
            margin-left: 5px; // Butonlar arasÄ± sol boÅŸluk
            color: $header-bg; // YazÄ±/Ä°kon rengi (Koyu mavi)
        }
    }
}

// Splitter (BÃ¶lÃ¼nebilir Alan) KonteynerÄ±
.splitter-container {
    flex: 1; // Kalan tÃ¼m dikey boÅŸluÄŸu kapla
    overflow: hidden; // TaÅŸmayÄ± gizle
    padding: 0; // Padding kaldÄ±rÄ±ldÄ± (bitiÅŸik gÃ¶rÃ¼nÃ¼m iÃ§in)
    background-color: white;

    ::ng-deep .p-splitter {
        border: none; // Splitter dÄ±ÅŸ Ã§erÃ§evesini kaldÄ±r
        height: 100% !important; // YÃ¼ksekliÄŸi %100 yap

        // Paneller arasÄ± ayÄ±rÄ±cÄ± Ã§izgi (Gutter - TutamaÃ§)
        .p-splitter-gutter {
            width: 4px !important; // Tutabilmek iÃ§in 4px geniÅŸlik
            background-color: #e3effa; // Renk (AÃ§Ä±k mavi)
            border-left: 1px solid $border-color; // Sol kenarlÄ±k
            border-right: 1px solid $border-color; // SaÄŸ kenarlÄ±k
            margin: 0 -1px; // Ã‡izgilerin Ã¼st Ã¼ste binmesi iÃ§in negatif margin
            z-index: 10; // DiÄŸer Ã¶ÄŸelerin Ã¼stÃ¼nde gÃ¶rÃ¼nsÃ¼n

            &:hover {
                background-color: #d1d9e0; // Mouse ile Ã¼zerine gelince koyulaÅŸsÄ±n
            }

            .p-splitter-gutter-handle {
                display: none; // TutamaÃ§ Ã¼zerindeki kÃ¼Ã§Ã¼k ikonu gizle (daha sade gÃ¶rÃ¼nÃ¼m)
            }
        }
    }
}

// Splitter iÃ§indeki Panellerin Stili
.panel-content {
    display: flex;
    flex-direction: column; // Panel baÅŸlÄ±ÄŸÄ± ve iÃ§eriÄŸi alt alta
    height: 100%;
    width: 100%; // GeniÅŸliÄŸi panele %100 yap
    border: none; // Border yok (Splitter gutter sÄ±nÄ±r gÃ¶revi gÃ¶rÃ¼yor)
    border-radius: 0; // KÃ¶ÅŸeleri dik yap
    overflow: hidden;

    // Panel BaÅŸlÄ±ÄŸÄ±
    .panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%; // Header tam geniÅŸlik
        background-color: $panel-header-bg; // AÃ§Ä±k mavi arka plan
        padding: 6px 10px; // Padding ayarÄ±
        font-size: 13px;
        font-weight: 600; // YarÄ± kalÄ±n font
        color: #2c4a6b; // Koyu mavi yazÄ±
        border-bottom: 1px solid $border-color; // Alt Ã§izgi
        border-top: 1px solid $border-color; // Ãœst Ã§izgi

        .header-icons {
            i {
                margin-left: 8px; // Ä°konlar arasÄ± boÅŸluk
                cursor: pointer; // TÄ±klanabilir el iÅŸareti
                color: #666; // Ä°kon rengi (Gri)
                font-size: 12px;

                &:hover {
                    color: $header-bg; // Hover'da ana mavi rengi al
                }
            }
        }
    }

    // Panel GÃ¶vdesi (Ä°Ã§erik)
    .panel-body {
        flex: 1; // Kalan alanÄ± doldur
        display: flex;
        flex-direction: column;
        padding: 0; // Ä°Ã§erik padding'i sÄ±fÄ±rladÄ±k
        font-size: 13px;
        color: $text-color;
        overflow: auto; // Ä°Ã§erik taÅŸarsa kaydÄ±rma Ã§ubuÄŸu Ã§Ä±kar
        border-top: none;

        // Panel gÃ¶vdesindeki span ve div'lere varsayÄ±lan padding ver (harita vs hariÃ§)
        >span,
        >div:not(.sub-panel):not(.map-wrapper) {
            padding: 10px;
        }

        // OrtalanmÄ±ÅŸ metin modu (Ã–rn: "Veri yok" yazÄ±sÄ±)
        &.centered-text {
            align-items: center;
            justify-content: center;
            color: $text-muted;
            font-weight: 500;
        }

        // Padding olmamasÄ± gereken durumlar iÃ§in class
        &.no-padding {
            padding: 0;
        }

        // Ä°ÅŸlemler listesi boÅŸ durum stili
        .empty-state {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: $text-muted;
            padding: 10px;
        }
    }
}

// En alttaki Durum Ã‡ubuÄŸu (Footer Status Bar)
.footer-status {
    height: 25px; // Ä°nce bir ÅŸerit
    background-color: #f0f0f0; // AÃ§Ä±k gri arka plan
    border-top: 1px solid #ddd; // Ãœste ayÄ±rÄ±cÄ± Ã§izgi
    display: flex;
    align-items: center; // Dikey ortala
    padding: 0 10px;
    font-size: 11px; // Ã‡ok kÃ¼Ã§Ã¼k font
    color: #666;

    i {
        font-size: 10px; // Ä°kon boyutu
        margin-right: 5px; // YazÄ± ile ikon arasÄ± boÅŸluk
    }
}

/* Minimize ve Clone ikonlarÄ±nÄ± beyaz yap */
:host ::ng-deep .p-dialog .p-dialog-header .minimize-btn span.pi-minus,
:host ::ng-deep .p-dialog .p-dialog-header .minimize-btn span.pi-clone {
    color: #ffffff;
}

// --------------------------------------------------------------------------
// KÃœÃ‡ÃœK BÄ°LEÅEN AYARLARI (Dropdown, Datatable)
// --------------------------------------------------------------------------

// KÃ¼Ã§Ã¼k boyutlu Dropdown ayarlarÄ±
.small-dropdown .p-dropdown-label {
    line-height: 20px;
    height: 20px;
    font-size: 0.50rem; // Ã‡ok kÃ¼Ã§Ã¼k yazÄ±
}

.small-dropdown .p-dropdown-trigger {
    height: 2px; // Ok iÅŸaretinin olduÄŸu alanÄ±n yÃ¼ksekliÄŸi (muhtemelen gÃ¶rsel bir tweak)
}

/* Tam ekran modu iÃ§in p-dialog zorlamalarÄ± */
:host ::ng-deep .p-dialog.dialog-fullscreen {
    width: 100vw !important;
    height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important; // Kenar boÅŸluklarÄ±nÄ± sÄ±fÄ±rla
}

/* KÃ¼Ã§Ã¼k boyutlu Tablo (Datatable) ayarlarÄ± */
:host ::ng-deep .p-datatable-sm .p-datatable-thead>tr>th,
:host ::ng-deep .p-datatable-sm .p-datatable-tbody>tr>td {
    padding: 0.8rem 0.50rem !important;
    /* HÃ¼cre iÃ§ boÅŸluÄŸunu kÃ¼Ã§Ã¼lt */
    font-size: 0.85rem !important;
    /* YazÄ± boyutunu kÃ¼Ã§Ã¼lt */
    line-height: 0.9rem !important;
    /* SatÄ±r yÃ¼ksekliÄŸini sÄ±kÄ±laÅŸtÄ±r */
    white-space: nowrap;
    /* Metin taÅŸmasÄ±nÄ± ve alt satÄ±ra geÃ§mesini engelle */
}

/* p-dialog iÃ§eriÄŸinin varsayÄ±lan padding ayarÄ±nÄ± koru (Filtre hizasÄ± iÃ§in) */
/* p-dialog iÃ§eriÄŸinin varsayÄ±lan padding ayarÄ±nÄ± sÄ±fÄ±rla */
:host ::ng-deep .p-dialog .p-dialog-content {
    padding: 0 !important;
}

/* Sadece alt taraftaki menÃ¼ bÃ¶lÃ¼mÃ¼ (dialog-body) iÃ§in Ã¶zel yerleÅŸim */
:host ::ng-deep .dialog-body {
    margin: 0 -1.5rem;
    /* Ä°Ã§eriÄŸi saÄŸa ve sola doÄŸru geniÅŸleterek parent padding'i yok say */
    // padding: 0 !important; /* iÃ§ boÅŸluÄŸu sÄ±fÄ±rla (yorum satÄ±rÄ±) */
    width: 100%;
    height: 100%;
    display: flex; // Flex dÃ¼zeni (Yan yana paneller iÃ§in)
    gap: 0.75rem; // Ã–ÄŸeler arasÄ± boÅŸluk
    box-sizing: border-box; // Padding ve Border geniÅŸliÄŸe dahil olsun
}

/* PrimeNG Kart (Card) bileÅŸeni Ã¼zerindeki margin'i kaldÄ±r */
:host ::ng-deep .p-card {
    margin: 0 !important;
    /* ğŸ”¹ kartlar arasÄ±nda veya kenarda margin olmasÄ±n */
}

/* Panel Kart YapÄ±sÄ± (Flex oranlarÄ±) */
:host ::ng-deep .panel-card {
    height: 100%;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;

    &.panel-1 {
        flex: 1 1 0%; // GeniÅŸlik oranÄ±: 1 birim (Daha dar paneller)
    }

    /* iÅŸlemler paneli */
    &.panel-2 {
        flex: 2 1 0%; // GeniÅŸlik oranÄ±: 2 birim (Daha geniÅŸ paneller, Ã¶rn: ana tablo)
    }

    /* diÄŸer paneller varsayÄ±lan davranÄ±r */
}

/* -------------------------------------------------------------------------- */
/* YENÄ° EKLENEN: SOL SÃœTUN Ä°Ã‡Ä°N DÄ°KEY BÃ–LME (Resimdeki YapÄ±) */
/* -------------------------------------------------------------------------- */
/*
   Sol taraftaki "Ä°ÅŸlemler" ve "SeÃ§ili Ä°ÅŸlem Belgeler" alanlarÄ±nÄ±
   alt alta gÃ¶stermek iÃ§in HTML'de kapsayÄ±cÄ± div'e 'vertical-stack' sÄ±nÄ±fÄ± verin.
*/
:host ::ng-deep .vertical-stack {
    display: flex;
    flex-direction: column;
    /* Yan yana deÄŸil, alt alta diz */
    height: 100%;
    width: 100%;
    overflow: hidden;

    /* Bu sarmalayÄ±cÄ±nÄ±n iÃ§indeki panel-content'ler iÃ§in Ã¶zel ayar */
    .panel-content {
        height: auto !important;
        /* VarsayÄ±lan %100 yÃ¼ksekliÄŸi ez */
        flex: 1;
        /* AlanÄ± dikeyde eÅŸit paylaÅŸ (%50 - %50) */

        /* Ãœstteki panelin (Ä°ÅŸlemler) altÄ±na ayÄ±rÄ±cÄ± Ã§izgi ekle */
        &:first-child {
            border-bottom: 4px solid #e3effa;
            /* Resimdeki kalÄ±n aÃ§Ä±k mavi Ã§izgi */
        }

        /* Ä°kinci (alttaki) panelde ekstra border olmasÄ±n */
        &:last-child {
            border-bottom: none;
        }
    }
}